{
  "description": "Test vectors for V7 cross-platform validation (Python/Dart)",
  "version": "1.0",
  "softmax": {
    "test_cases": [
      {
        "name": "simple",
        "input": [1.0, 2.0, 3.0],
        "expected": [0.09003057, 0.24472848, 0.66524094]
      },
      {
        "name": "equal_logits",
        "input": [1.0, 1.0, 1.0],
        "expected": [0.33333333, 0.33333333, 0.33333333]
      },
      {
        "name": "large_logits",
        "input": [100.0, 200.0, 300.0],
        "expected": [0.0, 0.0, 1.0]
      },
      {
        "name": "negative_logits",
        "input": [-1.0, 0.0, 1.0],
        "expected": [0.09003057, 0.24472848, 0.66524094]
      }
    ]
  },
  "tone_extraction": {
    "test_cases": [
      {"syllable": "mā", "expected_tone": 1},
      {"syllable": "má", "expected_tone": 2},
      {"syllable": "mǎ", "expected_tone": 3},
      {"syllable": "mà", "expected_tone": 4},
      {"syllable": "ma", "expected_tone": 0},
      {"syllable": "shī", "expected_tone": 1},
      {"syllable": "shí", "expected_tone": 2},
      {"syllable": "shǐ", "expected_tone": 3},
      {"syllable": "shì", "expected_tone": 4},
      {"syllable": "gū", "expected_tone": 1},
      {"syllable": "gú", "expected_tone": 2},
      {"syllable": "gǔ", "expected_tone": 3},
      {"syllable": "gù", "expected_tone": 4},
      {"syllable": "lǚ", "expected_tone": 3},
      {"syllable": "nǜ", "expected_tone": 4},
      {"syllable": "de", "expected_tone": 0},
      {"syllable": "le", "expected_tone": 0}
    ]
  },
  "syllable_to_char_mapping": {
    "test_cases": [
      {
        "name": "equal_counts",
        "syl_scores": [0.9, 0.8, 0.7],
        "char_count": 3,
        "syl_count": 3,
        "expected": [0.9, 0.8, 0.7]
      },
      {
        "name": "expand_2_to_4",
        "syl_scores": [0.9, 0.7],
        "char_count": 4,
        "syl_count": 2,
        "expected": [0.9, 0.9, 0.7, 0.7]
      },
      {
        "name": "truncate_4_to_2",
        "syl_scores": [0.9, 0.8, 0.7, 0.6],
        "char_count": 2,
        "syl_count": 4,
        "expected": [0.9, 0.8]
      },
      {
        "name": "empty_input",
        "syl_scores": [],
        "char_count": 3,
        "syl_count": 0,
        "expected": [0.0, 0.0, 0.0]
      },
      {
        "name": "expand_3_to_5",
        "syl_scores": [0.9, 0.8, 0.7],
        "char_count": 5,
        "syl_count": 3,
        "expected": [0.9, 0.9, 0.8, 0.8, 0.7]
      }
    ]
  },
  "alignment_scoring": {
    "description": "Test alignment maintains monotonic frame order",
    "test_cases": [
      {
        "name": "simple_alignment",
        "n_frames": 20,
        "n_vocab": 10,
        "targets": [1, 3, 5, 7],
        "note": "Expected frames should be strictly increasing"
      },
      {
        "name": "dense_targets",
        "n_frames": 10,
        "n_vocab": 20,
        "targets": [1, 2, 3, 4, 5, 6, 7, 8],
        "note": "More targets than frames should still work"
      }
    ]
  },
  "combined_score_formula": {
    "description": "Combined score = 0.7 * syllable_score + 0.3 * tone_score",
    "test_cases": [
      {"syl_score": 1.0, "tone_score": 1.0, "expected": 1.0},
      {"syl_score": 0.0, "tone_score": 0.0, "expected": 0.0},
      {"syl_score": 1.0, "tone_score": 0.0, "expected": 0.7},
      {"syl_score": 0.0, "tone_score": 1.0, "expected": 0.3},
      {"syl_score": 0.8, "tone_score": 0.6, "expected": 0.74}
    ]
  }
}
